{% extends 'base.html' %}

{% block title %}Playing Game - Real Vs AI{% endblock %}

{% block content %}
<!-- Game Header -->
<div class="game-header mb-4">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-4">
                <div class="turn-counter">
                    Turn: <span id="turn">{{ game.current_turn }}{% if game.total_turns > 0 %}/{{ game.total_turns }}{% endif %}</span>
                </div>
            </div>
            <div class="col-4 text-center">
                <h2>Real Vs AI</h2>
                <p class="mb-0">
                    {% if game.game_mode == 'single' %}
                        Single Player - {{ game.difficulty|capitalize }}
                    {% else %}
                        Endless Mode
                    {% endif %}
                </p>
            </div>
            <div class="col-2 text-end">
                <div class="score-counter">
                    Score: <span id="score">{{ game.score }}</span>
                </div>
            </div>
            <div class="col-2 text-end">
                <div class="lives-counter">
                    Lives: <span id="lives">{{ game.lives }}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Game Area -->
<div class="container">
    <div class="row justify-content-center mb-4">
        <div class="col-12 text-center mb-4">
            <h3>Which image is REAL?</h3>
            <p class="text-muted">Click on the image you think is a real photo</p>
        </div>

        <!-- Feedback Message (hidden initially) -->
        <div id="feedback" class="feedback-message" style="display: none;"></div>
    </div>

    <div class="row">
        <!-- Image 1 -->
        <div class="col-md-6 mb-4">
            <div class="image-container" id="image1" data-type="{{ image1_type }}">
                {% if image1 %}
                <img src="{{ url_for('static', filename=image1.replace('static/', '')) }}" alt="Image 1" class="img-fluid">
                {% else %}
                <div class="no-image-placeholder d-flex align-items-center justify-content-center bg-dark p-5 text-center">
                    <p class="lead">Image not available</p>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Image 2 -->
        <div class="col-md-6 mb-4">
            <div class="image-container" id="image2" data-type="{{ image2_type }}">
                {% if image2 %}
                <img src="{{ url_for('static', filename=image2.replace('static/', '')) }}" alt="Image 2" class="img-fluid">
                {% else %}
                <div class="no-image-placeholder d-flex align-items-center justify-content-center bg-dark p-5 text-center">
                    <p class="lead">Image not available</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="row justify-content-center mt-3">
        <div class="col-md-6 text-center">
            <button id="submitAnswer" class="btn btn-primary btn-lg px-5 w-100" disabled>Submit Answer</button>
        </div>
    </div>

    <div class="row justify-content-center mt-4">
        <div class="col-md-6 text-center">
            <button id="nextButton" class="btn btn-success btn-lg px-5 w-100" style="display: none;">Next</button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tutorial.css') }}">
{% endblock %}
{% block extra_js %}
<script src="{{ url_for('static', filename='js/confetti.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/game.js') }}"></script>
    <script src="{{ url_for('static', filename='js/tutorial.js') }}"></script>
{% endblock %}