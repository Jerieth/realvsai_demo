/*!
 * JSConfetti v0.11.0
 * Copyright (c) 2021-present Loonride Labs, Inc.
 * MIT License
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).JSConfetti=e()}(this,(function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.default={confettiRadius:6,confettiNumber:100,confettiColors:["#EF2964","#00C09D","#2D87B0","#48485E","#EFFF1D"],confettiInitialVelocityX:0,confettiInitialVelocityY:0,confettiFinalVelocityX:0,confettiFinalVelocityY:0,confettiDirection:{min:0,max:360},confettiAlpha:1,confettiSize:1,emojis:null,emojiFinalVelocityX:0,emojiFinalVelocityY:0,emojiInitialVelocityX:0,emojiInitialVelocityY:0,emojiRadius:100,emojiNumber:1,emojiDirection:{min:0,max:360},emojiAlpha:1,emojiSize:1,emojiRotationalVelocity:0,emojiRotationalVelocityLimit:5,confettiRotationalVelocity:0,confettiRotationalVelocityLimit:5,confettiDeceleration:1,confettiGravity:1,emojiDeceleration:1,emojiGravity:1,canvasWidth:null},this.options=e&&"object"===n(e)?this._parseOptions(e):this.default}var e,i;return e=t,(i=[{key:"_parseOptions",value:function(t){var i=e({},this.default);return Object.keys(t).forEach((function(o){var a=t[o];i[o]=a})),i}},{key:"_randomPhysics",value:function(t,e,i,n){var o=(t.min||0)*(Math.PI/180),a=(t.max||0)*(Math.PI/180),s=r(o,a),c=e+r(-i/2,i/2);return{x:Math.cos(s)*c+r(-n/2,n/2),y:Math.sin(s)*c+r(-n/2,n/2)}}},{key:"_iterateConfetti",value:function(t,e,i,n,o,p){for(var a=this,s=[],r=0;r<i;r++)!function(i){var r=t.getContext("2d"),c=a.options.confettiColors,h=a.options.confettiRadius,l=e?a.options.emojiRotationalVelocity:a.options.confettiRotationalVelocity,u=e?a.options.emojiRotationalVelocityLimit:a.options.confettiRotationalVelocityLimit,f=l+Math.random()*l,d=Math.random()<.5?f:-f,m={x:o?0:n.x,y:o?0:n.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:n,confettiColors:c,confettiRadius:h,confettiNumber:i,confettiPaperCount:c.length,emojis:e,radius:e?a.options.emojiRadius:a.options.confettiRadius,rotateY:0,rotateX:0,rotationalVelocity:d,rotationalVelocityLimit:u};o&&(m.velocity={x:0,y:0}),s.push(m)}(r);return s}},{key:"_updateConfetti",value:function(t,e,i,n,o){for(var a=0;a<i.length;a++){var s=i[a],r=s.velocity,c=s.rotationalVelocity,h=s.rotationalVelocityLimit,l=s.wobble,u=s.wobbleSpeed;if(!o||a%10==0)if(r.x=e?this.options.emojiFinalVelocityX:this.options.confettiFinalVelocityX,r.y+=.1,s.rotateY>=h||s.rotateY<=-1*h?c=-1*c:s.rotateY+=c/100,s.rotateX=c/100*.05,l+=u,s.x+=Math.cos(l)*(s.wobble/2),s.y+=r.y*this.options.confettiGravity,s.y+=this.options.confettiDeceleration,r.y>0&&s.y>t.height||r.x<0&&s.x<0||r.x>0&&s.x>t.width)if(n){var f=i[Math.floor(Math.random()*i.length)];i[a]={x:Math.random()*t.width,y:-10,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:{x:f.velocity.x,y:f.velocity.y*.1},confettiColors:f.confettiColors,confettiRadius:f.confettiRadius,rotateY:f.rotateY,rotateX:f.rotateX,confettiNumber:f.confettiNumber,confettiPaperCount:f.confettiPaperCount,radius:f.radius,rotationalVelocity:f.rotationalVelocity,rotationalVelocityLimit:f.rotationalVelocityLimit,emojis:f.emojis}}else i.splice(a,1)}return i}},{key:"_drawConfetti",value:function(t,e){for(var i=this,n=0;n<e.length;n++){var o=e[n],a=o.confettiColors;if(o.emojis){var s=o.emojis;"object"===typeof s&&null!==s&&s.length>0&&(s=s[Math.floor(Math.random()*s.length)]),t.fillStyle=s?s:"#FFFFFF",t.font="".concat(21*this.options.emojiSize,"px serif"),t.save(),t.translate(o.x,o.y),t.rotate(o.rotateY),t.scale(this.options.emojiSize,this.options.emojiSize),t.globalAlpha=this.options.emojiAlpha,t.fillText(s,0,0),t.globalAlpha=1,t.restore()}else{var r=a[Math.floor(Math.random()*a.length)];t.fillStyle=r,t.beginPath(),t.save(),t.translate(o.x,o.y),t.rotate(o.rotateY),t.scale(this.options.confettiSize,this.options.confettiSize),t.globalAlpha=this.options.confettiAlpha,t.arc(0,0,o.confettiRadius,0,2*Math.PI),t.fill(),t.restore(),t.closePath()}}var c=e.filter((function(t){var e=t.y<i.canvasHeight+100;return e}));e.length=0,e.push.apply(e,c)}},{key:"add",value:function(){var t,i,n,o,a,s,r,c,h,l,u=this,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=this._parseOptions(f);var d=null===(t=document)||void 0===t||null===(i=t.body)||void 0===i||null===(n=i.parentElement)||void 0===n?void 0:n.getBoundingClientRect();this.canvasHeight=null===(o=document)||void 0===o||null===(a=o.body)||void 0===a||null===(s=a.parentElement)||void 0===s?void 0:s.clientHeight,this.canvasWidth=null===(r=document)||void 0===r||null===(c=r.body)||void 0===c||null===(h=c.parentElement)||void 0===h?void 0:h.clientWidth,this.customCanvasWidth=this.options.canvasWidth?this.options.canvasWidth:this.canvasWidth,d&&void 0!==d.width&&(this.customCanvasWidth=d.width);var m,p=document.getElementById("confetti-canvas");p&&p.parentNode?p.parentNode.removeChild(p):((p=document.createElement("canvas")).setAttribute("id","confetti-canvas"),p.setAttribute("style","display:block;pointer-events:none;z-index:999999;position:fixed;top:0"),document.body.prepend(p));var v=function(t){if(!(m=p.getContext("2d")))return;var e=u.options.confettiInitialVelocityX,i=u.options.confettiInitialVelocityY,n=u.options.emojis,o=u.options.emojiInitialVelocityX,a=u.options.emojiInitialVelocityY,s=u._randomPhysics(u.options.confettiDirection,e,i,0),r=null;n&&(r=u._randomPhysics(u.options.emojiDirection,o,a,0));var c=u._iterateConfetti(p,!1,u.options.confettiNumber,s,!1,!1),h=n?u._iterateConfetti(p,!0,u.options.emojiNumber,r,!1,!1):[];p.width=u.customCanvasWidth,p.height=u.canvasHeight;var f,d,v=!1;m.globalAlpha=1;var g=null,y=null;if(t){var b,w=null===(b=t.currentTime)||void 0===b?void 0:b.toFixed(3);g&&y&&w===g?v=!1:(g=w,y=w,v=!0)}(f=function t(){p.width=u.customCanvasWidth,p.height=u.canvasHeight,c=u._updateConfetti(p,!1,c,!0,!1),n&&(h=u._updateConfetti(p,!0,h,!0,!1)),u._drawConfetti(m,c),n&&u._drawConfetti(m,h),d=window.requestAnimationFrame(t)})()};return"complete"===document.readyState||"interactive"===document.readyState?v():(null===(l=window)||void 0===l||l.addEventListener("load",v,!1),window.addEventListener("resize",v)),function(){window.cancelAnimationFrame(m)}}}])&&o(e.prototype,i),t}();function s(t,e){return Math.floor(Math.random()*(e-t+1))+t}function r(t,e){return Math.random()*(e-t)+t}var c=function(t){return new a(t)};return c.default=a,c}));
